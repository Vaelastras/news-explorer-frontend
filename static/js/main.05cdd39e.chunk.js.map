{"version":3,"sources":["utils/constants.js","context/CurrentUserContext.js","images/icons/logout-ligth.png","images/icons/logout-dark.png","components/Navigation/Navigation.js","components/Burger/Burger.js","components/Header/Header.js","images/avatar/avatar.jpg","components/About/About.js","utils/helpers.js","components/Article/Article.js","components/ArticleList/ArticlesList.js","components/Main/Main.js","components/SearchForm/SearchForm.js","components/Summary/Summary.js","components/Articles/Articles.js","components/Footer/Footer.js","images/icons/github.png","images/icons/facebook.png","images/icons/email.png","images/icons/vk.png","components/PopupWithForm/PopupWithForm.js","utils/Validator.js","components/Register/Register.js","components/Login/Login.js","components/PopupConfirm/PopupConfirm.js","components/ProtectedRoute/ProtectedRoute.js","components/Preloader/Preloader.js","components/NoResult/NoResult.js","images/not-find.png","utils/MainApi.js","components/App/App.js","utils/NewsApi.js","index.js"],"names":["BASE_URL","window","location","protocol","process","REACT_APP_API_URL","module","exports","API_KEY","PROXY_URL","CARDS_TO_SHOW","DAY_DECREMENT","COUNT_NEWS_SHOWED","NEWS_DEFAULT_IMG","CurrentUserContext","React","createContext","Navigation","isLoggedIn","isOpenLoginPopup","isLogout","currentUser","useContext","pathname","useLocation","navLinkDark","navLinkActive","navButtonLogin","navButtonLogout","navButtonColor","logoutButtonLight","logoutButtonDark","buttonDisplayName","name","className","exact","to","activeClassName","onClick","alt","src","Burger","isOpen","isOpenBurgerMenu","buttonLogin","buttonLogout","textColorization","backgroundColor","crossButtonDark","crossBurgerColorDark","buttonSwitcher","burgerButtonColor","type","id","htmlFor","Header","headerLight","headerDark","headerLogoDark","headerBg","About","myAvatar","scrollPageToTop","pageYOffset","scroll","handleValidityUrl","url","isValidLink","test","toString","handleDateFormatter","date","timeIsNow","Date","getDate","getMonth","getFullYear","Article","handleOpenLoginPopup","updateMySavedArticles","mySavedArticles","props","useState","fillBookmark","setFillBookmark","cardDescription","useEffect","undefined","find","i","title","keyword","article","mySavedArticle","image","description","href","link","target","rel","source","ArticlesList","articles","renderArticles","setRenderArticles","buttonHidden","setButtonHidden","slice","length","map","publishedAt","urlToImage","Math","random","Main","SearchForm","handleNewsSearch","searchRequest","setSearchRequest","requestError","setRequestError","onSubmit","e","preventDefault","noValidate","value","placeholder","onChange","str","toUpperCase","required","Summary","myArray","item","mySavedKeywords","Set","handleKeywordFormatter","foo","firstKeyword","secondKeyword","thirdKeyword","keywords","count","handleSubtitleRewritter","handleTagsRewritter","Articles","text","Footer","PopupWithForm","children","onClose","onSwitchPopup","buttonDescription","action","FormValidator","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","event","validationMessage","closest","checkValidity","Register","onRegister","textError","isFieldDisabled","Validator","email","password","minLength","maxLength","disabled","Login","onLogin","autoComplete","PopupConfirm","ProtectedRoute","Component","component","localStorage","getItem","Preloader","NoResult","searchError","noResultTextError","noResultTitleError","getUserContent","token","fetch","method","headers","Authorization","then","res","ok","json","data","catch","err","Promise","reject","Error","App","setIsLoggedIn","setCurrentUser","formFieldDisabled","setFormFieldDisabled","openPreloader","setOpenPreloader","openNoResults","setOpenNoResults","openRegisterPopup","setOpenRegisterPopup","openLoginPopup","setOpenLoginPopup","openConfirmPopup","setOpenConfirmPopup","burgerOpen","setBurgerOpen","showErrorInPopup","setShowErrorInPopup","setSearchError","setArticles","setKeyword","setMySavedArticles","history","useHistory","getSavedNews","handleClickBurger","closeAllPopups","handlePopupSwitcher","handleLogout","clear","push","handleSaveNews","tag","body","JSON","stringify","mainApi","handleDeleteSavedNews","_id","myArticleArray","filter","handleUpdateMySavedArticles","mySavedNews","parse","jwt","tokenCheck","handleOverlayClose","classList","contains","handleEscClose","key","document","addEventListener","removeEventListener","Provider","path","worldTime","searchFrom","toISOString","setDate","searchAt","status","getArticlesFromServer","setItem","message","errCode","userData","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"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","file":"static/js/main.05cdd39e.chunk.js","sourcesContent":["const BASE_URL = `${window.location.protocol}${process.env.REACT_APP_API_URL || '//localhost:3000'}`;\nconst API_KEY = '8c43c8fd4f0c449e95267fecb55fb71b';\nconst PROXY_URL = 'https://nomoreparties.co/news/v2/everything';\nconst CARDS_TO_SHOW = 3;\nconst DAY_DECREMENT = 7;\nconst COUNT_NEWS_SHOWED = 20;\nconst NEWS_DEFAULT_IMG = 'https://i.ibb.co/3SkSn1X/news-default.jpg';\n\nmodule.exports = {\n  BASE_URL,\n  API_KEY,\n  PROXY_URL,\n  CARDS_TO_SHOW,\n  DAY_DECREMENT,\n  COUNT_NEWS_SHOWED,\n  NEWS_DEFAULT_IMG,\n};\n","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAQBAMAAADpKDJvAAAAJFBMVEUAAAD///////////////////////////////////////////+0CY3pAAAAC3RSTlMA3yAQz++fYFBAMM5jkV0AAABVSURBVAjXYyjdvZsBAqRBLAUQCyTCEQZjcUknQFkMitsMoCwmaWcQCyy4xQDIEgQC0d3OQNZuMBCCyW5UQNYB1QBkQYUgLHaQwQzRIBdMACkphLkKAAC4HWcsytXRAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAQBAMAAADpKDJvAAAAJFBMVEUAAAAZGiIYGCAQECAaGyEbGyIZGyEZGyEZGSAYGCAbGyAaGyKVOBVCAAAAC3RSTlMA3yAQz++fYFBAMM5jkV0AAABVSURBVAjXYyjdvZsBAqRBLAUQCyTCEQZjcUknQFkMitsMoCwmaWcQCyy4xQDIEgQC0d3OQNZuMBCCyW5UQNYB1QBkQYUgLHaQwQzRIBdMACkphLkKAAC4HWcsytXRAAAAAElFTkSuQmCC\"","import React, { useContext } from 'react';\nimport './navigation.css';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport CurrentUserContext from '../../context/CurrentUserContext';\n\nimport logoutButtonLight from '../../images/icons/logout-ligth.png';\nimport logoutButtonDark from '../../images/icons/logout-dark.png';\n\nfunction Navigation({ isLoggedIn, isOpenLoginPopup, isLogout }) {\n  const currentUser = useContext(CurrentUserContext);\n  const { pathname } = useLocation();\n\n  const navLinkDark = `${pathname === '/saved-news' ? 'navigation__link_type_black' : ''}`;\n  const navLinkActive = `${pathname === '/saved-news' ? 'navigation__link_type_active_dark' : 'navigation__link_type_active'}`;\n  const navButtonLogin = `${pathname === '/' ? 'navigation__button' : 'navigation__button_type_hidden'}`;\n\n  const navButtonLogout = `${pathname === '/saved-news' ? 'navigation__button navigation__button_type_logout' : 'navigation__button_type_hidden'}`;\n  const navButtonColor = `${pathname === '/' ? logoutButtonLight : logoutButtonDark}`;\n\n  const buttonDisplayName = `${isLoggedIn ? `${currentUser.name}` : 'Авторизоваться'}`;\n  return (\n    <nav className=\"navigation\">\n      <div className=\"navigation__container\">\n        <ul className='navigation__list'>\n          <li className='navigation__item'>\n            <NavLink exact to=\"/\" className={`navigation__link ${navLinkDark}`} activeClassName={navLinkActive}>Главная</NavLink>\n          </li>\n          {isLoggedIn && <li className='navigation__item'>\n            <NavLink to=\"/saved-news\" className={`navigation__link ${navLinkDark}`} activeClassName={navLinkActive}>Сохранённые статьи</NavLink>\n          </li>}\n        </ul>\n        <button onClick={isLoggedIn ? isLogout : isOpenLoginPopup } className={navButtonLogin}>{buttonDisplayName}{isLoggedIn && <img className=\"navigation__icon-logout\" alt=\"logout button\" src={navButtonColor}/>}</button>\n        <NavLink to=\"/\" className=\"navigation__link\">\n          <button className={navButtonLogout} onClick={isLogout}>{buttonDisplayName}{isLoggedIn && <img className=\"navigation__icon-logout\" alt=\"logout button\" src={navButtonColor}/>}</button>\n        </NavLink>\n      </div>\n    </nav>\n  );\n}\n\nexport default Navigation;\n","import React, { useContext } from 'react';\nimport './burger.css';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport logoutButtonDark from '../../images/icons/logout-dark.png';\nimport logoutButtonLight from '../../images/icons/logout-ligth.png';\nimport CurrentUserContext from '../../context/CurrentUserContext';\n\nfunction Burger({\n  isOpen, isOpenBurgerMenu, isOpenLoginPopup, isLoggedIn, isLogout,\n}) {\n  const { pathname } = useLocation();\n  const currentUser = useContext(CurrentUserContext);\n\n  const buttonLogin = `${pathname === '/' ? 'burger__link-button burger__link-button_white' : 'burger__link-button_type_hidden'}`;\n  const buttonLogout = `${pathname === '/saved-news' ? 'burger__link-button burger__link-button_dark' : 'burger__link-button_type_hidden'}`;\n  const textColorization = `${pathname === '/' ? 'burger__link_white burger__link' : 'burger__link burger__link_dark'}`;\n  const backgroundColor = `${pathname === '/saved-news' ? 'burger__list_white' : 'burger__list_dark'}`;\n  const crossButtonDark = `${pathname === '/saved-news' && isOpenBurgerMenu ? 'burger__button-cross_type_dark' : ''}`;\n  const crossBurgerColorDark = `${pathname === '/saved-news' && !isOpenBurgerMenu ? 'burger__button_type_dark' : ''}`;\n  const buttonSwitcher = isOpenBurgerMenu ? 'burger__button-cross' : 'burger__button';\n  const burgerButtonColor = `${pathname === '/' ? logoutButtonLight : logoutButtonDark}`;\n  const buttonDisplayName = `${isLoggedIn ? `${currentUser.name}` : 'Авторизоваться'}`;\n\n  return (\n    <div className=\"burger\">\n\n      <input type=\"checkbox\" id=\"checkbox\" className=\"burger__checkbox\" onClick={isOpen}/>\n      <label htmlFor=\"checkbox\" className={`${buttonSwitcher} ${crossButtonDark} ${crossBurgerColorDark}`}/>\n      <div className={(isOpen ? `burger__list burger__list_active burger__layout ${backgroundColor}` : `${backgroundColor}`)}>\n        <div className=\"burger__container\">\n          <ul className=\"burger__roster\">\n            <li className=\"burger__roster-list\"><NavLink exact to=\"/\" className={textColorization}>Главная</NavLink></li>\n            {isLoggedIn && <li className=\"burger__roster-list\"><NavLink to=\"/saved-news\" className={textColorization}>Сохранённые статьи</NavLink></li>}\n          </ul>\n\n          <button className={buttonLogin} onClick={isLoggedIn ? isLogout : isOpenLoginPopup}>{buttonDisplayName}{isLoggedIn && <img className=\"burger__icon-logout\" alt=\"logout button\" src={burgerButtonColor}/>}</button>\n          <NavLink to=\"/\" className={textColorization}>\n            <button className={buttonLogout} onClick={isLogout}>{buttonDisplayName} {isLoggedIn && <img className=\"burger__icon-logout\" alt=\"logout button\" src={burgerButtonColor}/>}</button>\n          </NavLink>\n        </div>\n      </div>\n\n    </div>\n  );\n}\n\nexport default Burger;\n","import React from 'react';\nimport './header.css';\nimport { Link, useLocation } from 'react-router-dom';\nimport Navigation from '../Navigation/Navigation';\nimport Burger from '../Burger/Burger';\n\nfunction Header({\n  isOpen, isOpenBurgerMenu, isOpenLoginPopup, isLoggedIn, isLogout,\n}) {\n  const { pathname } = useLocation();\n\n  const headerLight = `${pathname === '/saved-news' ? 'header_type_light' : ''}`;\n  const headerDark = `${pathname === '/' ? 'header_type_dark' : ''}`;\n  const headerLogoDark = `${pathname === '/saved-news' ? 'header__logo_type_dark' : ''}`;\n  const headerBg = `${pathname === '/' && isOpenBurgerMenu ? `header ${headerDark}` : `header ${headerLight}`}`;\n\n  return (\n   <header className={headerBg}>\n    <div className=\"header__wrapper\">\n      <Link to='/' className={`header__logo ${headerLogoDark}`}>News Explorer</Link>\n      <Navigation\n        isOpenLoginPopup={isOpenLoginPopup}\n        isLogout={isLogout}\n        isLoggedIn={isLoggedIn}\n      />\n      <Burger\n        isOpen={isOpen}\n        isOpenBurgerMenu={isOpenBurgerMenu}\n        isOpenLoginPopup={isOpenLoginPopup}\n        isLoggedIn={isLoggedIn}\n        isLogout={isLogout}\n        />\n    </div>\n   </header>\n  );\n}\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/avatar.7215ef7b.jpg\";","import React from 'react';\nimport './about.css';\nimport myAvatar from '../../images/avatar/avatar.jpg';\n\nfunction About() {\n  return (\n    <section className=\"about\">\n      <img className=\"about__avatar\" src={myAvatar} alt=\"Фото автора\"/>\n      <div className=\"about__wrapper\">\n        <h2 className=\"about__title\">Об авторе</h2>\n          <p className=\"about__paragraph\">Всем пламенный привет!</p>\n          <p className=\"about__paragraph\">Меня зовут Алексей Белов, я начинающий Front-end разработчик.</p>\n          <p className=\"about__paragraph\">Мне 33 года, живу в Москве.</p>\n          <p className=\"about__paragraph\">Очень люблю путешествовать, особенно по городам Золотого Кольца России 🪐🇷🇺</p>\n          <p className=\"about__paragraph\">Тут должен быть какой-то текст про меня</p>\n      </div>\n    </section>\n  );\n}\n\nexport default About;\n","// скроллит страницу в начало\nexport const scrollPageToTop = () => {\n  if (window.pageYOffset > 0) {\n    window.scroll(0, 0);\n  }\n};\n\n// Переводит 1-й символ в верхний регистр\nexport const handleKeywordFormatter = (str) => {\n  if (!str) {\n    return str;\n  }\n  return str[0].toUpperCase() + str.slice(1);\n};\n\nexport const handleValidityUrl = (url) => {\n  const isValidLink = /^(https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|www\\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9]+\\.[^\\s]{2,}|www\\.[a-zA-Z0-9]+\\.[^\\s]{2,})/.test(url);\n  if (isValidLink) {\n    return isValidLink.toString();\n  }\n  return isValidLink;\n};\n\n// форматиоует дату для показа в артикле\nexport const handleDateFormatter = (date) => {\n  const month = [\n    'января', 'февраля', 'марта', 'апреля', 'мая', 'июня', 'июля', 'августа', 'сентября', 'октября', 'ноября', 'декабря',\n  ];\n  const timeIsNow = new Date(date);\n  return `${timeIsNow.getDate()} ${month[timeIsNow.getMonth()]} ${timeIsNow.getFullYear()} `;\n};\n","import React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { NEWS_DEFAULT_IMG } from '../../utils/constants';\nimport { handleValidityUrl, handleDateFormatter } from '../../utils/helpers';\nimport './article.css';\n\nfunction Article({\n  isLoggedIn, handleOpenLoginPopup, updateMySavedArticles, mySavedArticles, ...props\n}) {\n  const { pathname } = useLocation();\n  const [fillBookmark, setFillBookmark] = useState(false); // для закрашивания флажка\n  const buttonSwitcher = `${pathname === '/saved-news' ? 'article__trash' : `${fillBookmark && isLoggedIn ? 'article__bookmark article__bookmark_type_marked' : 'article__bookmark'}`}`;\n  const cardDescription = `${pathname === '/saved-news' ? 'article__keyword article__keyword_active' : 'article__keyword'}`;\n\n  useEffect(() => {\n    if (mySavedArticles) {\n      setFillBookmark(\n        mySavedArticles.find((i) => i.title === props.title) !== undefined,\n      );\n    }\n  }, [mySavedArticles, fillBookmark, isLoggedIn]);\n\n  function handleUpdateSavedArticles() {\n    updateMySavedArticles(props.article, props.keyword, props.mySavedArticle);\n  }\n\n  return (\n    <article className=\"article\">\n      <p className={cardDescription}>{props.keyword}</p>\n      {\n        isLoggedIn\n          ? (<button onClick={handleUpdateSavedArticles} className={buttonSwitcher}/>)\n          : (<button onClick={handleOpenLoginPopup} className=\"article__bookmark article__bookmark_type_inactive\"/>)\n      }\n      <img className=\"article__image\" src={handleValidityUrl(props.image) ? props.image : NEWS_DEFAULT_IMG} alt={props.title || props.description || 'Иллюстрация к статье'}/>\n      <a className=\"article__link\" href={props.link} target=\"_blank\" rel=\"noreferrer\">\n        <p className=\"article__date\">{handleDateFormatter(props.date)}</p>\n        <div className=\"article__wrapper\">\n          <h3 className=\"article__title\">{props.title} </h3>\n          <p className=\"article__content\"> {props.description}</p>\n        </div>\n        <p className=\"article__source\">{props.source}</p>\n      </a>\n    </article>\n  );\n}\n\nexport default Article;\n","import React, { useState, useEffect } from 'react';\nimport './articles-list.css';\nimport Article from '../Article/Article';\nimport { CARDS_TO_SHOW } from '../../utils/constants';\n\nfunction ArticlesList({\n  articles,\n  keyword,\n  isLoggedIn,\n  handleOpenLoginPopup,\n  updateMySavedArticles,\n  mySavedArticles,\n}) {\n  const [renderArticles, setRenderArticles] = useState([]);\n  const [buttonHidden, setButtonHidden] = useState(true);\n\n  useEffect(() => {\n    setRenderArticles(articles.slice(0, CARDS_TO_SHOW));\n    if (articles.length <= CARDS_TO_SHOW) {\n      return setButtonHidden(false);\n    }\n    return setButtonHidden(true);\n  }, [articles]);\n\n  function showMoreArticles() {\n    setRenderArticles(articles.slice(0, renderArticles.length + CARDS_TO_SHOW));\n    if (renderArticles.length >= articles.length - CARDS_TO_SHOW) {\n      setButtonHidden(false);\n    }\n  }\n\n  return (\n    <section className={renderArticles.length > 0 ? 'articles-list' : 'articles-list_type_hidden'}>\n      <h2 className=\"articles-list__title\">Результаты поиска</h2>\n      <div className=\"articles-list__wrapper\">\n        {\n          renderArticles.map((article) => <Article\n              article={article}\n              key={article.url + Math.random()}\n              keyword={keyword}\n              title={article.title}\n              date={article.publishedAt}\n              image={article.urlToImage}\n              link={article.url}\n              description={article.description}\n              source={article.source.name}\n              isLoggedIn={isLoggedIn}\n              mySavedArticles={mySavedArticles}\n              handleOpenLoginPopup={handleOpenLoginPopup}\n              updateMySavedArticles={updateMySavedArticles}\n            />)\n        }\n      </div>\n      {articles.length > 3 && <button onClick={showMoreArticles} className={buttonHidden ? 'articles-list__button' : 'articles-list__button_hidden'}>Показать еще</button>}\n    </section>\n  );\n}\n\nexport default ArticlesList;\n","import React from 'react';\nimport './main.css';\nimport About from '../About/About';\nimport ArticlesList from '../ArticleList/ArticlesList';\n\nfunction Main({\n  articles,\n  keyword,\n  isLoggedIn,\n  handleOpenLoginPopup,\n  mySavedArticles,\n  updateMySavedArticles,\n}) {\n  return (\n    <main className=\"content\">\n      <ArticlesList\n        articles={articles}\n        mySavedArticles={mySavedArticles}\n        updateMySavedArticles={updateMySavedArticles}\n        keyword={keyword}\n        isLoggedIn={isLoggedIn}\n        handleOpenLoginPopup={handleOpenLoginPopup}\n      />\n      <About/>\n    </main>\n  );\n}\n\nexport default Main;\n","import React, { useState } from 'react';\nimport './searchForm.css';\nimport { handleKeywordFormatter } from '../../utils/helpers';\n\nfunction SearchForm({ handleNewsSearch }) {\n  const [searchRequest, setSearchRequest] = useState('');\n  const [requestError, setRequestError] = useState(false);\n\n  function handleSubmitForm(e) {\n    e.preventDefault();\n    if (searchRequest !== '') {\n      handleNewsSearch(searchRequest);\n      setSearchRequest('');\n      return setRequestError(false);\n    }\n    return setRequestError(true);\n  }\n\n  return (\n    <section className=\"search\">\n      <form className=\"search__form\" onSubmit={handleSubmitForm} noValidate>\n        <h1 className=\"search__title\">Что творится в мире?</h1>\n        <p className=\"search__subtitle\">Находите самые свежие статьи на любую тему и сохраняйте в своём личном кабинете.</p>\n        <div className=\"search__wrapper\">\n          <input\n            value={searchRequest}\n            className=\"search__input\"\n            placeholder={`${requestError ? 'Вам нужно ввести ключевое слово ‼️️' : 'Введите тему новости'}`}\n            onChange={ (e) => setSearchRequest(handleKeywordFormatter(e.target.value)) }\n            required/>\n          <button className=\"search__button\">Искать</button>\n        </div>\n      </form>\n    </section>\n  );\n}\n\nexport default SearchForm;\n","import React, { useContext } from 'react';\nimport './summary.css';\nimport CurrentUserContext from '../../context/CurrentUserContext';\n\nfunction Summary({ mySavedArticles }) {\n  const currentUser = useContext(CurrentUserContext);\n\n  // собираем массив уникальных ключевых слов\n  const myArray = mySavedArticles.map((item) => item.keyword);\n  const mySavedKeywords = [...new Set(myArray)];\n\n  function handleKeywordFormatter(str) {\n    if (!str) {\n      return str;\n    }\n    return str[0].toUpperCase() + str.slice(1);\n  }\n\n  const firstKeyword = `${handleKeywordFormatter(mySavedKeywords[0])}`;\n  const secondKeyword = `${handleKeywordFormatter(mySavedKeywords[1]) || ''}`;\n  const thirdKeyword = `${handleKeywordFormatter(mySavedKeywords[2]) || ''}`;\n  const keywords = `${mySavedKeywords.length >= 3 ? ` ${firstKeyword}, ${secondKeyword}, ${thirdKeyword}` : ` ${firstKeyword} и ${secondKeyword}`}`;\n  const count = mySavedArticles.length;\n  function handleTitleSaveNewsRewritter(foo) {\n    if (foo === 0 && foo >= 5) { return 'ых статей'; }\n    if (foo === 1) { return 'ая статья'; }\n    if (foo > 1 && foo < 5) { return 'ых статьи'; }\n    return 'ых статей';\n  }\n\n  function handleSubtitleRewritter(foo) {\n    if (foo === 1) { return 'ому слову'; }\n    return 'ым словам';\n  }\n\n  function handleTagsRewritter(foo) {\n    if (foo - 3 <= 0) { return ''; }\n    if (foo - 3 === 1) { return '-му другому'; }\n    if (foo > 2) { return '-м другим'; }\n    return '';\n  }\n\n  return (\n    <section className='summary'>\n      <div className=\"summary__wrapper\">\n        <p className=\"summary__subtitle\">Сохраненные статьи</p>\n        <h3 className=\"summary__title\">{currentUser.name}, у вас {count > 0 ? count : 'ещё нет'} сохраненн{handleTitleSaveNewsRewritter(count)}</h3>\n        {mySavedArticles.length > 0 && (\n        <p className=\"summary__keyword\">По ключев{handleSubtitleRewritter(mySavedKeywords.length)}:\n          <span className=\"summary__keyword_type_bold\"> {mySavedKeywords.length < 2 ? firstKeyword : keywords }</span>\n          {mySavedKeywords.length > 2 && (\n            <span className=\"summary__keyword_type_bold\"> {\n              (mySavedKeywords.length - 3) > 0\n                ? `и ${mySavedKeywords.length - 3}`\n                : ''}\n              {handleTagsRewritter(mySavedKeywords.length)}\n            </span>\n          )\n          }\n        </p>)\n        }\n      </div>\n    </section>\n\n  );\n}\n\nexport default Summary;\n","// ex-SavedNews\n\nimport React from 'react';\nimport './articles.css';\nimport Article from '../Article/Article';\nimport Summary from '../Summary/Summary';\n\nfunction Articles({\n  mySavedArticles,\n  ...props\n}) {\n  return (\n    <>\n      <Summary\n        mySavedArticles={mySavedArticles}\n      />\n      {mySavedArticles.length > 0 && <section className=\"articles\">\n          {\n            mySavedArticles.map((article) => <Article\n              mySavedArticle={article}\n              key={article.link + Math.random()}\n              keyword={article.keyword}\n              title={article.title}\n              date={article.date}\n              image={article.image}\n              link={article.link}\n              description={article.text}\n              source={article.source}\n              isLoggedIn={props.isLoggedIn}\n              handleOpenLoginPopup={props.handleOpenLoginPopup}\n              updateMySavedArticles={props.updateMySavedArticles}\n              mySavedArticles={mySavedArticles}\n            />)\n          }\n        </section>\n\n      }\n    </>\n  );\n}\n\nexport default Articles;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { scrollPageToTop } from '../../utils/helpers';\nimport './footer.css';\nimport gitLogo from '../../images/icons/github.png';\nimport facebook from '../../images/icons/facebook.png';\nimport gmail from '../../images/icons/email.png';\nimport vk from '../../images/icons/vk.png';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">\n        &copy; {new Date().getFullYear()} Supersite, Powered by News API\n      </p>\n      <div className=\"footer__wrapper\">\n        <ul className=\"footer__links\">\n          <li className=\"footer__list\">\n            <Link className=\"footer__link\" to='/' onClick={scrollPageToTop}>Главная</Link>\n          </li>\n          <li className=\"footer__list\">\n            <a className=\"footer__link\" href=\"https://praktikum.yandex.ru/\" target=\"_blank\" rel=\"noreferrer\">Яндекс.Практикум</a>\n          </li>\n        </ul>\n        <ul className=\"footer__social-links\">\n          <li className=\"footer__social-link\">\n            <a href=\"https://github.com/Vaelastras\" target=\"_blank\" rel=\"noreferrer\"><img className=\"footer__social-icon\" src={gitLogo} alt='Github logo'/></a>\n          </li>\n          <li className=\"footer__social-link\">\n            <a href=\"https://www.facebook.com/Vaelastras/\" target=\"_blank\" rel=\"noreferrer\"><img className=\"footer__social-icon\" src={facebook} alt='facebook'/></a>\n          </li>\n          <li className=\"footer__social-link\">\n            <a href=\"mailto:vaelastras@gmail.com\" target=\"_blank\" rel=\"noreferrer\"><img className=\"footer__social-icon\" src={gmail} alt='mail me'/></a>\n          </li>\n          <li className=\"footer__social-link\">\n            <a href=\"https://vk.com/vaelastras\" target=\"_blank\" rel=\"noreferrer\"><img className =\"footer__social-icon\" src={vk} alt='vk'/></a>\n          </li>\n        </ul>\n      </div>\n\n    </footer>\n  );\n}\n\nexport default Footer;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAVCAMAAAB1/u6nAAAAP1BMVEUAAAAYFhYYFxcYFhYTEBAZFhYYFhYZFhYZFxcZFhYZFhYZFxcZFxcYFhYZFhYYGBgZGRkYFxcZFxcbFRUZFxcVfYHpAAAAFHRSTlMAgL8gEO9gr5DPn3DfoFBAH99vMMD2DhQAAAClSURBVBjTXZBZEoQgDAUJm4rbLH3/s47EUOD0D0Un5AGuE4L7J4rnwudH6ZNoSG/1DEzR9MQDf1uB8t15Lz4hYYdVLwBk59rRDCnqqvXGbLE1L3Qd0j29hruBHbiqdugx5aW6jHqqWocso94Aizy7zfYgAVJu9khA3cW0nAtb0bgq7b4rPmzMqsdP9GR7u9hXKXGiyNG0147WJfeaVjcQsnafYq0/H3UMHJ5Ao08AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAAJ1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADdEvm1AAAADHRSTlMAQL+fH4AQ73Bg3zDERkUyAAAASklEQVQI12PQOQMFhxjOwAEmM4RBBso8wcDgA2UuYEiBiSqw1cDUGjCewWROdGAT7IEwHRgYGOYgmDEQplIAt1INkjaymTow5iEAfsd9o3DgvLYAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAllBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6C80qAAAAMXRSTlMA33u3r/LucqflIFELMtWS9unEaWIG+shJEM+jnTsohUIZv4AtJI2JdhwU2bZbxm3KVFqEzgAAArVJREFUeNrtm8ly2lAURFvIPM1iFkgImRmDp9z//7mwSJlUrnB5Yd1OpXK2sDgIvUFP3Wghmwxe5rn3reTzl8EkwxdYhE46w4ULfEoaRNIxUZDiLtORGDCaop14LEaMY7SQODHDJVAEYkqAP3gUYx6Zv19fg0QIJPggdkLA3cbCWCiMP+YfIfFrRkpHQmKUMkaAHgmR0IhwZSFEFgBCIRICcELEAZlQyTARKhMMhMoAvlDxMRcqc+RCJYcnVLz/Al8VGPbvMSxMBHr4hFlabvbr1+Doj4wFNPtebiygWfnGApr1M1kAs9pYQNNjC+DIFsAbW6ApyAII2QIrtgAitsCyW4HwukA650ZR9bLL0MZTtwIP8hvbGJrEUECiDRRrSwEJochMBYoL+QrIlHMP6JPHG4GtwFEPVFuBJ/UNz1Yg0WuBqcBQvQgZ2ArU6v3H0FQgL/VSZCmwLPUkYCbg5ruD+vTgOhe4xPF5cynTGVo4eNxt+SoSpkD6WAhT4D0iP5wm9c2Adg88FOxnwzikPxsmEVkAm4osgHJMFkCZkwWwLzoUCMIry+WyruvB7l4+5WS3IXGDDTRl30rgSv8VmtpA4MYUirWpwPCsTwyHlgJyguKHqUAFxdJUoIDiZCogpT6ztRW46IMi279Ab5F37JvwaCqwgyI0nYg2UFSWAu+gzoRFD9S1YLtCCycbAbftNWhjFnUnEGf7fdMc4vh8TnGPV/KecPZMFgiEK9AMuQJpJVSB2VaoAqUvVIEmF6rApC9MgWxMPaJZhcwzosNTxcqQzJpFEHpdpWie/c/YvlVe/x9PUnWFx4/z0QON9EgnPdRKj/XSg830aDc/3E6P99MLDvyKB73kQq/58ItO/KoXvezGr/vxC4/8yie/9Mqv/fKLz39B9Ztffv+o//vfX//32+v/PwEWpzAUMuMR5gAAAABJRU5ErkJggg==\"","import React from 'react';\nimport './popupWithForm.css';\n\nfunction PopupWithForm({\n  isOpen,\n  name,\n  onSubmit,\n  title,\n  text,\n  children,\n  onClose,\n  onSwitchPopup,\n  buttonDescription,\n}) {\n  return (\n    <div className={(isOpen ? `popup popup_type_${name} popup_active` : `popup popup_type_${name}`)}>\n      <div className=\"popup__container\">\n        <form className=\"popup__form\" action=\"#\" name={name} onSubmit={onSubmit} noValidate>\n          <h2 className=\"popup__title\">{title}</h2>\n          {children}\n          <p className=\"popup__text\">{text}\n            <span className=\"popup__switcher\" onClick={onSwitchPopup}>{buttonDescription}</span>\n          </p>\n        </form>\n        <button className=\"popup__close\" type=\"button\" onClick={onClose} />\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React, { useCallback } from 'react';\n\nfunction FormValidator() {\n  const [values, setValues] = React.useState({});\n  const [errors, setErrors] = React.useState({});\n  const [isValid, setIsValid] = React.useState(false);\n\n  const handleChange = (event) => {\n    const { target } = event;\n    const { name } = target;\n    const { value } = target;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: target.validationMessage });\n    setIsValid(target.closest('form').checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid],\n  );\n\n  return {\n    values, handleChange, errors, isValid, resetForm,\n  };\n}\n\nexport default FormValidator;\n","import React, { useEffect } from 'react';\nimport './Register.css';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\nimport Validator from '../../utils/Validator';\n\nfunction Register({\n  isOpen, onClose, onSwitchPopup, onRegister, textError, isFieldDisabled,\n}) {\n  const {\n    values, handleChange, errors, isValid, resetForm,\n  } = Validator();\n\n  useEffect(() => {\n    resetForm();\n  }, [isOpen]); // докрутить валидацию\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onRegister(values.email, values.password, values.name);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      onSwitchPopup={onSwitchPopup}\n      onSubmit={handleSubmit}\n      name='register'\n      title='Регистрация'\n      text='или '\n      buttonDescription='Войти'\n    >\n      <label className=\"popup__label\">Email</label>\n      <input\n        value={values.email || ''}\n        onChange={handleChange}\n        id=\"email-register\"\n        className=\"popup__input popup__input_type_email\"\n        type=\"email\"\n        name=\"email\"\n        placeholder=\"Введите почту\"\n        minLength=\"5\"\n        maxLength=\"30\"\n        required\n      />\n      <span id=\"email-register-error\" className=\"popup__error\" >{errors.email || ''}</span>\n\n      <label className=\"popup__label\">Пароль</label>\n      <input\n        value={values.password || ''}\n        onChange={handleChange}\n        className=\"popup__input popup__input_type_password\"\n        id=\"password-register\"\n        type=\"password\"\n        name=\"password\"\n        placeholder=\"Введите пароль\"\n        minLength=\"5\"\n        maxLength=\"30\"\n        disabled={isFieldDisabled}\n        required\n      />\n      <span id=\"password-error-register\" className=\"popup__error\" >{errors.password || ''}</span>\n\n      <label className=\"popup__label\">Имя</label>\n      <input\n        value={values.name || ''}\n        onChange={handleChange}\n        className=\"popup__input popup__input_type_name\"\n        id=\"name\"\n        type=\"text\"\n        name=\"name\"\n        placeholder=\"Введите своё имя\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        disabled={isFieldDisabled}\n        required\n      />\n      <span id=\"name-error-register\" className=\"popup__error\"> {errors.name || ''} </span>\n      <span id=\"main-error-register\" className=\"popup__error popup__error_type_register\">{textError}</span>\n      <button className={`popup__submit ${isValid ? 'popup__submit_type_active' : ''}`} type=\"submit\" disabled={!isValid}>Зарегистрироваться</button>\n    </PopupWithForm>\n  );\n}\n\nexport default Register;\n","import React, { useEffect } from 'react';\nimport './Login.css';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\nimport Validator from '../../utils/Validator';\n\nfunction Login({\n  isOpen, onClose, onSwitchPopup, onLogin, textError, isFieldDisabled,\n}) {\n  const {\n    values,\n    handleChange,\n    errors,\n    isValid,\n    resetForm,\n  } = Validator();\n\n  useEffect(() => {\n    resetForm();\n  }, [isOpen, resetForm]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onLogin(values.email, values.password);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      onSwitchPopup={onSwitchPopup}\n      onSubmit={handleSubmit}\n      name='login'\n      title='Вход'\n      text='или '\n      buttonDescription='Зарегистрироваться'>\n        <label className=\"popup__label\">Email</label>\n        <input\n          value={values.email || ''}\n          onChange={handleChange}\n          className=\"popup__input popup__input_type_email\"\n          id=\"email-login\"\n          type=\"email\"\n          name=\"email\"\n          placeholder=\"Введите почту\"\n          minLength=\"5\"\n          maxLength=\"30\"\n          autoComplete=\"on\"\n          disabled={isFieldDisabled}\n          required\n        />\n        <span id=\"email-error-login\" className=\"popup__error\" >{errors.email || ''}</span>\n\n      <label className=\"popup__label\">Пароль</label>\n        <input\n          value={values.password || ''}\n          onChange={handleChange}\n          className=\"popup__input popup__input_type_password\"\n          id=\"password-login\"\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"Введите пароль\"\n          minLength=\"5\"\n          maxLength=\"30\"\n          autoComplete=\"on\"\n          disabled={isFieldDisabled}\n          required\n        />\n        <span id=\"password-error-login\" className=\"popup__error\" >{errors.password || ''}</span>\n        <span id=\"main-error-login\" className=\"popup__error popup__error_type_login\">{textError}</span>\n        <button className={`popup__submit ${isValid ? 'popup__submit_type_active' : ''}`} type=\"submit\" disabled={!isValid}>Войти</button>\n    </PopupWithForm>\n  );\n}\n\nexport default Login;\n","import React from 'react';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\nimport './popupConfirm.css';\n\nexport default function PopupConfirm(\n  { isOpen, onClose, onLogin },\n) {\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      name=\"register\"\n      title=\"Пользователь успешно зарегистрирован\"\n    >\n    <span onClick={onLogin} type='button' className=\"popup__switcher popup__switcher_confirm\">Войти</span>\n    </PopupWithForm>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\n// этот компонент принимает другой компонент в качестве пропса\n// он также может взять неограниченное число пропсов и передать их новому компоненту\n\nconst ProtectedRoute = ({ component: Component, handleOpenLoginPopup, ...props }) => {\n  useEffect(() => {\n    if (!localStorage.getItem('login')) {\n      handleOpenLoginPopup();\n    }\n  });\n\n  return (\n    <Route>\n      {\n        () => (\n          localStorage.getItem('login')\n            ? <Component {...props} />\n            : <Redirect to=\"./\"/>\n        )\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React from 'react';\nimport './preloader.css';\n\nfunction Preloader({ isOpen }) {\n  return (\n      <section className={`preloader ${isOpen ? 'preloader_active' : ''}`}>\n        <div className=\"preloader__wrapper\">\n          <div className=\"preloader__circle\"/>\n          <p className=\"preloader__text\">Идет поиск новостей</p>\n        </div>\n      </section>\n  );\n}\n\nexport default Preloader;\n","import React from 'react';\nimport './noResult.css';\nimport notFind from '../../images/not-find.png';\n\nfunction NoResult({ isOpen, searchError }) {\n  const noResultTextError = searchError\n    ? 'Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз'\n    : 'К сожалению по вашему запросу ничего не найдено.';\n\n  const noResultTitleError = searchError ? '' : 'Ничего не найдено';\n\n  return (\n    <section className={`no-result ${isOpen ? 'no-result_active' : ''}`}>\n      <div className=\"no-result__wrapper\">\n        <img className=\"no-result__logo\" alt=\"Ничего не найдено\" src={notFind}/>\n        <h2 className=\"no-result__title\">{noResultTitleError}</h2>\n        <p className=\"no-result__subtitle\">{noResultTextError}</p>\n      </div>\n    </section>\n  );\n}\n\nexport default NoResult;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAASFBMVEUAAADR0tbQ0NTR0tbPz8/P0NTP0dbR09fPz9PS0tbR0tbP0dbQ0tbR0dbS0tbR09bS0tbP0dTR09XP0dbR09jQ0tXP09PR0tYBFbp1AAAAF3RSTlMA3yCAEDBwv0CP76Cvz5/Pr5BgkG9QQCL7Fc4AAAJcSURBVGje7ZjLkqQgEEXzgYngs7Sr+P8/nZ7ZuKCxvGJPdEd4lgXlIUlCM6Gbm/+Be1k3M6dPePLBWrqSl/o4rPYUoU+kaW31yVtz0dp1iGvrst/bjnkRqkUCr9t2ZI401incGNXt+pVrFB+8Pb6siErnEO/l0Lye5dzyjQ5ibAQTkGUJK5rd2Ttofj9j86dAII/JIc9XglHAMAc6wWM+vJaeTuHD0fPpzgncsdMq++ez/q9sdBrzWAJwvL2NMkqNQN7mb1SqQkcoTTguChQAjobdAJLUCtxuFpaOqnkoleG2XtBOVKRhuoBYXqV1X6YtKVFhANwj/6U7pUQEDLS+KEh0RQQuOtrI1fVMpSRYuEbwMGgAxzooxzjPvrR3zTUC4cIAyzcLEl1EugVnBSy/5BQ1Q6nmfRIG+k7r7F3si6nq0jraxcKZl50zH7lfVbX3aVI587Jrh512n/3itpkd+3b/uwV9KZzmDfNS7sATqhbuhXI0WiHHYFX2ZIOa19HK5ytSzsJNMTPDSDnb/Jwh36OGhahssHyVDFauQjs4l+/QglSuOJIEqVxxtNv3RywEvIPptDqAfdybFdT3kOZrBL0irS7OB/+EqwSyysuQ9zxOpmHWw6kKdILQH491UILRwRFggGMIAzffeU3pe9dABlLsYvZvxKDB2KBbaNwgPAtyiY4bSKO+VTjdIsUN0vG+wmnsHFFmQBRpbKnAK/C6+U8aSBbmLxzuFeK01XuZAaIxn3ywtpF/RnlamKLXzZobcFpb/cDpE+a+s62EBwwgt+E23IZDBqObm1/DH85sEVXKiaObAAAAAElFTkSuQmCC\"","import { BASE_URL } from './constants';\nimport { handleValidityUrl } from './helpers';\n\n// регистрация нового пользователя\nexport const createUser = (email, password, name) => fetch(`${BASE_URL}/signup`, {\n  method: 'POST',\n  headers: { 'Content-Type': 'application/json' },\n  body: JSON.stringify({ name, email, password }),\n})\n  .then((res) => {\n    if (res.status !== 409) {\n      return res.json();\n    }\n    return Promise.reject(res.status);\n  })\n  .catch((err) => Promise.reject(err));\n\n// авторизация существующего пользователя\nexport const authorizeUser = (email, password) => fetch(`${BASE_URL}/signin`, {\n  method: 'POST',\n  headers: { 'Content-Type': 'application/json' },\n  body: JSON.stringify({ email, password }),\n})\n  // eslint-disable-next-line consistent-return\n  .then((res) => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(res.status);\n  })\n  // eslint-disable-next-line consistent-return\n  .then((data) => {\n    if (data.token) {\n      localStorage.setItem('jwt', data.token);\n      return data;\n    }\n  })\n  // eslint-disable-next-line prefer-promise-reject-errors\n  .catch((err) => Promise.reject(err));\n\n// проверка токена\nexport const getUserContent = (token) => fetch(`${BASE_URL}/users/me`, {\n  method: 'GET',\n  headers: {\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${token}`,\n  },\n})\n  .then((res) => {\n    if (res.ok) {\n      return res.json();\n    }\n    return '';\n  })\n  .then((data) => data)\n  .catch((err) => Promise.reject(new Error(`Error: ${err}`)));\n\n/// получение серверных карточек\nexport const getAllArticles = () => fetch(\n  `${BASE_URL}/articles`,\n  {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n    },\n  },\n)\n  .then((res) => res.json())\n  .catch((err) => Promise.reject(new Error(`Error: ${err}`)));\n\n// удаление серверной карточки\nexport const deleteArticle = (article) => fetch(\n  `${BASE_URL}/articles/${article._id}`,\n  {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n    },\n  },\n)\n  .then((res) => res.json())\n  .catch((err) => Promise.reject(new Error(`Error: ${err}`)));\n\n// сохранить карту в своем апи\nexport const saveArticle = (article, keyword) => {\n  const {\n    title,\n    description,\n    publishedAt,\n    source,\n    url,\n    urlToImage,\n  } = article;\n\n  return fetch(\n    `${BASE_URL}/articles`,\n    {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n      },\n      body: JSON.stringify({\n        keyword,\n        title,\n        text: description || title,\n        date: publishedAt,\n        source: source.name,\n        link: url,\n        image: handleValidityUrl(urlToImage) ? urlToImage : 'https://i.ibb.co/3SkSn1X/news-default.jpg', // все равно будет баг если с апи прилетает кривая ссылка по типу http://rg.ru/cgi-?http://.\n      }),\n    },\n  )\n    .then((res) => res.json())\n    .catch((err) => Promise.reject(new Error(`Error: ${err}`)));\n};\n","import React, { useState, useEffect } from 'react';\nimport { Switch, Route, useHistory } from 'react-router-dom';\nimport './app.css';\n\n// компоненты\nimport Header from '../Header/Header';\nimport Main from '../Main/Main';\nimport SearchForm from '../SearchForm/SearchForm';\nimport Articles from '../Articles/Articles';\nimport Footer from '../Footer/Footer';\n\n// попапы\nimport Register from '../Register/Register';\nimport Login from '../Login/Login';\nimport PopupConfirm from '../PopupConfirm/PopupConfirm';\n\n// контекст и HOC\nimport CurrentUserContext from '../../context/CurrentUserContext';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\n\n// сервисные компоненты\nimport Preloader from '../Preloader/Preloader';\nimport NoResult from '../NoResult/NoResult';\n\n// апи и утилиты\nimport * as mainApi from '../../utils/MainApi';\nimport getArticlesFromServer from '../../utils/NewsApi';\n\nfunction App() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false); // авторизационный стейт\n  const [currentUser, setCurrentUser] = useState({}); // стейт данных по юзеру\n  const [formFieldDisabled, setFormFieldDisabled] = useState(false); // стейт блокировки инпутов при отправке. хотя по уму лучше бы блочить форму\n\n  // стейты показа компонентов в поиске статей\n  const [openPreloader, setOpenPreloader] = useState(false);\n  const [openNoResults, setOpenNoResults] = useState(false);\n\n  // стейты открытия попапов\n  const [openRegisterPopup, setOpenRegisterPopup] = useState(false);\n  const [openLoginPopup, setOpenLoginPopup] = useState(false);\n  const [openConfirmPopup, setOpenConfirmPopup] = useState(false);\n  const [burgerOpen, setBurgerOpen] = useState(false);\n\n  // показ ошибок в попапе\n  const [showErrorInPopup, setShowErrorInPopup] = useState(''); // вывод ошибок регистрации в попапе\n  const [searchError, setSearchError] = useState(false); // вывод ошибок поиска в noResult\n\n  // стейты данных с сервера newsApi\n  const [articles, setArticles] = useState([]);\n  const [keyword, setKeyword] = useState('');\n  const [mySavedArticles, setMySavedArticles] = useState([]);\n\n  const history = useHistory();\n\n  function getSavedNews() {\n    mainApi.getAllArticles()\n      .then((data) => {\n        setMySavedArticles(data);\n        setKeyword(data.keyword);\n      })\n      .catch((err) => {\n        Promise.reject(new Error(`Error: ${err}`));\n      });\n  }\n\n  function tokenCheck() {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      setIsLoggedIn(true);\n      getSavedNews();\n      mainApi.getUserContent(jwt)\n        .then((res) => {\n          if (res) {\n            setCurrentUser(JSON.parse(localStorage.getItem('user')));\n            setIsLoggedIn(true);\n          }\n        })\n        .catch((err) => {\n          Promise.reject(new Error(`Error: ${err}`));\n        });\n    }\n  }\n\n  useEffect(() => {\n    if (localStorage.getItem('articles') !== null || undefined) {\n      setArticles(JSON.parse(localStorage.getItem('articles')));\n    }\n  }, []);\n\n  useEffect(() => {\n    tokenCheck();\n  }, [isLoggedIn]);\n\n  useEffect(() => {\n    setKeyword(localStorage.getItem('keyword'));\n  }, [keyword]);\n\n  function handleClickBurger() {\n    setBurgerOpen(!burgerOpen);\n  }\n\n  function closeAllPopups() {\n    setOpenRegisterPopup(false);\n    setOpenLoginPopup(false);\n    setOpenConfirmPopup(false);\n  }\n\n  function handleOpenRegisterPopup() {\n    setShowErrorInPopup(null);\n    setOpenRegisterPopup(true);\n  }\n\n  function handleOpenLoginPopup() {\n    setShowErrorInPopup(null);\n    setOpenConfirmPopup(false);\n    setOpenLoginPopup(true);\n  }\n\n  function handlePopupSwitcher() {\n    if (openRegisterPopup) {\n      closeAllPopups();\n      handleOpenLoginPopup();\n    }\n    if (openLoginPopup) {\n      closeAllPopups();\n      handleOpenRegisterPopup();\n    }\n  }\n\n  useEffect(() => {\n    function handleOverlayClose(e) {\n      if (e.target.classList.contains('popup_active')) {\n        closeAllPopups();\n      }\n    }\n\n    function handleEscClose(e) {\n      if (e.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener('click', handleOverlayClose);\n    document.addEventListener('keydown', handleEscClose);\n\n    return () => {\n      document.removeEventListener('click', handleOverlayClose);\n      document.removeEventListener('keydown', handleEscClose);\n    };\n  }, []);\n\n  function handleRegister(email, password, name) {\n    setFormFieldDisabled(true);\n    mainApi.createUser(email, password, name)\n      .then((res) => {\n        if (res) {\n          closeAllPopups();\n          setOpenConfirmPopup(true);\n          history.push('./');\n          setFormFieldDisabled(false);\n        }\n      })\n      .catch((errCode) => {\n        if (errCode === 409) {\n          setFormFieldDisabled(false);\n          return setShowErrorInPopup('Email уже регистрировался');\n        }\n        if (errCode === 429) {\n          setFormFieldDisabled(false);\n          return setShowErrorInPopup('Превышено количество запросов');\n        }\n        setShowErrorInPopup('Что-то пошло не так, попробуйте позже');\n        return setFormFieldDisabled(false);\n      });\n  }\n\n  function handleLogin(email, password) {\n    setFormFieldDisabled(true);\n    mainApi.authorizeUser(email, password)\n      .then((res) => {\n        if (res) {\n          localStorage.clear();\n          setArticles([]);\n          localStorage.setItem('jwt', res.token);\n          mainApi.getUserContent(res.token)\n            .then((userData) => {\n              localStorage.setItem('user', JSON.stringify(userData));\n              setCurrentUser(userData);\n              setIsLoggedIn(true);\n              setOpenNoResults(false);\n              setSearchError(null); // можно ставить false\n              setKeyword('');\n              localStorage.setItem('login', true);\n              closeAllPopups();\n              setFormFieldDisabled(false);\n              history.push('./');\n            })\n            .catch((err) => {\n              setFormFieldDisabled(false);\n              setShowErrorInPopup(err);\n            });\n        }\n      })\n      // eslint-disable-next-line consistent-return\n      .catch((err) => {\n        setFormFieldDisabled(false);\n        if (err === 401) {\n          return setShowErrorInPopup('Неправильный логин или пароль');\n        }\n        if (err === 400) {\n          return setShowErrorInPopup('Такого пользователя не существует!');\n        }\n        return setShowErrorInPopup('Сервис на профилактике. Повторите попытку позднее');\n      });\n  }\n\n  function handleLogout() {\n    setIsLoggedIn(false);\n    setOpenNoResults(false);\n    setArticles([]);\n    localStorage.clear();\n    history.push('/');\n  }\n\n  function handleSearchNews(tag) {\n    setOpenNoResults(false);\n    setOpenPreloader(true);\n    getArticlesFromServer(tag)\n      .then((data) => {\n        localStorage.setItem('articles', JSON.stringify(data.articles));\n        localStorage.setItem('keyword', tag);\n        setArticles(data.articles);\n        setKeyword(tag);\n        if (data.articles.length === 0) {\n          setSearchError(false);\n          setOpenNoResults(true);\n        }\n        setOpenPreloader(false);\n      })\n      .catch((err) => {\n        setOpenPreloader(false);\n        setOpenNoResults(true);\n        setSearchError(err.message);\n      });\n  }\n\n  function handleSaveNews(article, tag) {\n    if (isLoggedIn) {\n      mainApi.saveArticle(article, tag)\n        .then(() => getSavedNews())\n        .catch((err) => Promise.reject(new Error(`Error: ${err}`)));\n    }\n    return '';\n  }\n\n  function handleDeleteSavedNews(article) {\n    mainApi.deleteArticle(article)\n      .then(() => {\n        const myArticleArray = mySavedArticles.filter((i) => (i._id !== article._id));\n        setMySavedArticles(myArticleArray);\n      })\n      .catch((err) => {\n        Promise.reject(new Error(`Error ${err}`));\n      });\n  }\n\n  function handleUpdateMySavedArticles(article, tag, mySavedNews) {\n    const mySavedArticle = mySavedArticles.find((i) => {\n      if (mySavedNews) {\n        return i.title === mySavedNews.title && i.text === mySavedNews.text;\n      }\n      if (article) {\n        return i.title === article.title && i.text === article.description;\n      }\n      return null;\n    });\n    if (mySavedArticle) {\n      return handleDeleteSavedNews(mySavedArticle);\n    }\n    return handleSaveNews(article, tag);\n  }\n\n  return (\n    <div className='page'>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Switch>\n          <Route exact path='/'>\n            <Header\n              isOpenBurgerMenu={burgerOpen}\n              isOpen={handleClickBurger}\n              isOpenLoginPopup={handleOpenLoginPopup}\n              isLogout={handleLogout}\n              isLoggedIn={isLoggedIn}\n            />\n            <SearchForm\n              handleNewsSearch={handleSearchNews}\n            />\n            <Preloader\n              isOpen={openPreloader}\n            />\n            <NoResult\n              isOpen={openNoResults}\n              searchError={searchError}\n            />\n            <Main\n              articles={articles}\n              mySavedArticles={mySavedArticles}\n              keyword={keyword}\n              isLoggedIn={isLoggedIn}\n              handleOpenLoginPopup={handleOpenLoginPopup}\n              updateMySavedArticles={handleUpdateMySavedArticles}\n            />\n          </Route>\n          <Route path='/saved-news'>\n            <Header\n              isOpenBurgerMenu={burgerOpen}\n              isOpen={handleClickBurger}\n              isOpenLoginPopup={handleOpenLoginPopup}\n              isLogout={handleLogout}\n              isLoggedIn={isLoggedIn}\n            />\n            <ProtectedRoute path='/saved-news'\n              component={Articles}\n              isLoggedIn={isLoggedIn}\n              handleOpenLoginPopup={handleOpenLoginPopup}\n              updateMySavedArticles={handleUpdateMySavedArticles}\n              mySavedArticles={mySavedArticles}\n              keyword={keyword}\n            />\n          </Route>\n        </Switch>\n        <Footer/>\n        <section className=\"popups\">\n          <Register\n            isOpen={openRegisterPopup}\n            onClose={closeAllPopups}\n            onSwitchPopup={handlePopupSwitcher}\n            onRegister={handleRegister}\n            textError={showErrorInPopup}\n            isFieldDisabled={formFieldDisabled}\n          />\n          <Login\n            isOpen={openLoginPopup}\n            onClose={closeAllPopups}\n            onSwitchPopup={handlePopupSwitcher}\n            onLogin={handleLogin}\n            textError={showErrorInPopup}\n            isFieldDisabled={formFieldDisabled}\n          />\n          <PopupConfirm\n           isOpen={openConfirmPopup}\n           onClose={closeAllPopups}\n           onLogin={handleOpenLoginPopup}\n          />\n        </section>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import {\n  API_KEY, PROXY_URL, DAY_DECREMENT, COUNT_NEWS_SHOWED,\n} from './constants';\n\nexport default function getArticlesFromServer(keyword) {\n  // определим объект даты\n  const worldTime = new Date();\n  // переведем в ISO === \"2020-12-28T08:31:12.577Z\" и обрежем до дня\n  const searchFrom = worldTime.toISOString().slice(0, 10);\n  // установим в дату дату - 7 дней\n  worldTime.setDate(worldTime.getDate() - DAY_DECREMENT);\n  // переведем в ISO === \"2020-12-28T08:31:12.577Z\" и обрежем до дня\n  const searchAt = worldTime.toISOString().slice(0, 10);\n\n  // TODO: вернуть 100 запросов\n  return (\n    fetch(`${PROXY_URL}?q=${keyword}&apiKey=${API_KEY}&from=${searchAt}&to=${searchFrom}&sortBy=publishedAt&pageSize=${COUNT_NEWS_SHOWED}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\n      }));\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename=\"./news-explorer-frontend/\">\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}